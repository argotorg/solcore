contract Option {
  data Option(a) = None | Some(a);
  data Bool = False | True;

  forall a . function maybe(n : Option(a), o : a) -> a {
    match n  {
      | None => return o;
      | Some(x) => return x;
    }
  }

  forall a . function join(mmx : Option(Option(a))) -> Option(a) {
    let result = None;
    match mmx {
      | Some(Some(x)) => result = Some(x);
      | None => result = None;
    }
    return result;
  }

  function main() -> word {
    return maybe(join(Some(Some(0))), 0);
  }
}
